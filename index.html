<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>ESport Registration</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="style.css" />
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/11.0.1/firebase-firestore-compat.js"></script>
</head>
<body>
  <div id="app">
    <!-- ========== TOAST / ERROR BAR ========== -->
    <div id="toast" class="toast hidden"></div>

    <!-- ========== LOGIN SCREEN (‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏î‡∏µ‡∏¢‡∏ß‡πÄ‡∏ä‡πá‡∏Ñ‡∏ó‡∏±‡πâ‡∏á admin / student) ========== -->
    <section id="login-screen" class="screen active">
      <div class="card login-card">
        <h1 class="title">‡∏£‡∏∞‡∏ö‡∏ö‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô‡∏Å‡∏¥‡∏à‡∏Å‡∏£‡∏£‡∏°</h1>
        <p class="subtitle">‡∏Å‡∏£‡∏≠‡∏Å‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</p>
        <input id="student-id-input" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô 6530611018 ‡∏´‡∏£‡∏∑‡∏≠ 0826940174 (admin)" />
        <button id="login-btn" class="btn primary">‡πÄ‡∏Ç‡πâ‡∏≤‡∏™‡∏π‡πà‡∏£‡∏∞‡∏ö‡∏ö</button>
        <p class="hint">‡∏ñ‡πâ‡∏≤‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏£‡∏±‡∏ö‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï ‡∏à‡∏∞‡∏Ç‡∏∂‡πâ‡∏ô‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</p>
      </div>
    </section>

    <!-- ========== USER FORM SCREEN (‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏ó‡∏µ‡πà‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏≠‡∏≠‡∏Å‡πÅ‡∏ö‡∏ö) ========== -->
    <section id="user-form-screen" class="screen">
      <header class="topbar">
        <h2>‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏•‡∏á‡∏ó‡∏∞‡πÄ‡∏ö‡∏µ‡∏¢‡∏ô</h2>
        <div>
          <span id="logged-in-as"></span>
          <button id="logout-btn-user" class="btn ghost">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
        </div>
      </header>
      <div id="user-form-container" class="form-container">
        <!-- ‡∏à‡∏∞‡∏ñ‡∏π‡∏Å‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ JS ‡∏à‡∏≤‡∏Å collection form_questions -->
      </div>
      <div class="form-actions">
        <button id="submit-user-form" class="btn primary">‡∏™‡πà‡∏á‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°</button>
      </div>
      <div id="user-success" class="success-box hidden">
        ‡∏™‡πà‡∏á‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à üéâ
      </div>
    </section>

    <!-- ========== ADMIN DASHBOARD WRAPPER ========== -->
    <section id="admin-screen" class="screen">
      <header class="topbar">
        <h2>‡πÇ‡∏´‡∏°‡∏î‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô</h2>
        <div>
          <span id="admin-logged-in-as"></span>
          <button id="logout-btn-admin" class="btn ghost">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
        </div>
      </header>

      <div class="admin-layout">
        <!-- ========== ADMIN MENU ========== -->
        <nav class="admin-menu">
          <button class="admin-tab-btn active" data-tab="admin-form-screen">üìù ‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°</button>
          <button class="admin-tab-btn" data-tab="admin-users-screen">üë• ‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£</button>
          <button class="admin-tab-btn" data-tab="admin-ids-screen">‚úÖ ‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÄ‡∏Ç‡πâ‡∏≤</button>
          <button class="admin-tab-btn" data-tab="admin-roles-screen">üì¶ Role Limits</button>
        </nav>

        <!-- ========== ADMIN CONTENT ========== -->
        <div class="admin-content">
          <!-- 5) ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡∏ü‡∏≠‡∏£‡πå‡∏° -->
          <div id="admin-form-screen" class="admin-tab active">
            <h3>‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡∏ö‡∏ü‡∏≠‡∏£‡πå‡∏°</h3>
            <p class="sub">‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡πÄ‡∏û‡∏¥‡πà‡∏°/‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç/‡∏•‡∏ö‡πÑ‡∏î‡πâ‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</p>

            <div id="questions-list" class="list">
              <!-- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏î‡πâ‡∏ß‡∏¢ JS ‡∏à‡∏≤‡∏Å form_questions -->
            </div>

            <div class="add-question-box">
              <h4>‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°‡πÉ‡∏´‡∏°‡πà</h4>
              <input id="new-q-label" type="text" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏° / label" />
              <select id="new-q-type">
                <option value="text">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏±‡πâ‡∏ô</option>
                <option value="textarea">‡∏¢‡πà‡∏≠‡∏´‡∏ô‡πâ‡∏≤</option>
                <option value="select">Dropdown</option>
              </select>
              <label>
                <input id="new-q-required" type="checkbox" />
                ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏£‡∏≠‡∏Å
              </label>
              <label>
                <input id="new-q-autoemail" type="checkbox" />
                autoEmail (‡πÄ‡∏ï‡∏¥‡∏° PSU ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥)
              </label>
              <button id="add-question-btn" class="btn primary">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏≥‡∏ñ‡∏≤‡∏°</button>
            </div>
          </div>

          <!-- 6) ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏î‡∏π‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£ -->
          <div id="admin-users-screen" class="admin-tab">
            <h3>‡∏ú‡∏π‡πâ‡∏™‡∏°‡∏±‡∏Ñ‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
            <input id="search-stdid" type="text" placeholder="‡∏Ñ‡πâ‡∏ô‡∏´‡∏≤‡∏î‡πâ‡∏ß‡∏¢‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤..." />
            <div id="registrations-list" class="list">
              <!-- ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏à‡∏≤‡∏Å registrations -->
            </div>
          </div>

          <!-- 7) ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ allowed_students -->
          <div id="admin-ids-screen" class="admin-tab">
            <h3>‡∏£‡∏´‡∏±‡∏™‡∏ó‡∏µ‡πà‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÉ‡∏´‡πâ‡πÄ‡∏Ç‡πâ‡∏≤‡πÑ‡∏î‡πâ</h3>
            <div class="flex-row gap">
              <input id="new-allowed-id" type="text" placeholder="‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏´‡∏±‡∏™‡∏ô‡∏±‡∏Å‡∏®‡∏∂‡∏Å‡∏©‡∏≤" />
              <button id="add-allowed-id-btn" class="btn primary">‡πÄ‡∏û‡∏¥‡πà‡∏°</button>
            </div>
            <div id="allowed-list" class="list mt-2">
              <!-- ‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å allowed_students -->
            </div>
          </div>

          <!-- 8) ‡πÅ‡∏≠‡∏î‡∏°‡∏¥‡∏ô‡∏à‡∏±‡∏î‡∏Å‡∏≤‡∏£ role_limits -->
          <div id="admin-roles-screen" class="admin-tab">
            <h3>Role Limits</h3>
            <p class="sub">‡πÉ‡∏ä‡πâ‡∏Ñ‡∏π‡πà‡∏Å‡∏±‡∏ö dropdown ‡∏ó‡∏µ‡πà‡∏ï‡∏¥‡πä‡∏Å ‚Äú‡∏à‡∏≥‡∏Å‡∏±‡∏î‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‚Äù</p>
            <div class="flex-row gap">
              <input id="new-role-label" type="text" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡∏ú‡∏π‡πâ‡∏à‡∏±‡∏î‡∏á‡∏≤‡∏ô" />
              <input id="new-role-max" type="number" placeholder="max" />
              <button id="add-role-btn" class="btn primary">‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏ö‡∏ó‡∏ö‡∏≤‡∏ó</button>
            </div>
            <div id="roles-list" class="list mt-2">
              <!-- ‡πÇ‡∏´‡∏•‡∏î‡∏à‡∏≤‡∏Å role_limits -->
            </div>
          </div>
        </div>
      </div>
    </section>
  </div>

  <script src="app.js"></script>
</body>
</html>

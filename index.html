<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>ESport Registration</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="style.css" />

  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-firestore-compat.js"></script>
</head>
<body>
  <div class="app">
    <h1>ESport Registration</h1>

    <!-- ========== USER: หน้าล็อกอินด้วยรหัส นศ. ========== -->
    <section id="user-login-screen">
      <h2>เข้าสู่ระบบสำหรับผู้สมัคร</h2>
      <input type="text" id="user-student-id" placeholder="กรอกรหัสนักศึกษา" />
      <button id="user-login-btn" class="primary">เข้าสู่แบบฟอร์ม</button>
      <p id="user-login-msg" class="msg"></p>
      <hr />
      <p class="muted">* ถ้าคุณเป็นผู้ดูแลระบบ <button id="go-admin-login" class="ghost small">เข้าสู่ส่วนแอดมิน</button></p>
    </section>

    <!-- ========== USER: หน้าแบบฟอร์ม (ดึงจาก Firestore) ========== -->
    <section id="user-form-screen" class="hidden">
      <h2>กรอกแบบฟอร์ม</h2>
      <form id="dynamic-form"></form>
      <p id="user-form-msg" class="msg"></p>
      <button id="user-logout-btn" class="ghost small">ออกจากระบบ</button>
    </section>

    <!-- ========== ADMIN: หน้าล็อกอินแอดมิน ========== -->
    <section id="admin-login-screen" class="hidden">
      <h2>เข้าสู่ระบบแอดมิน</h2>
      <input type="text" id="admin-code" placeholder="กรอกรหัสนักศึกษา (แอดมิน)" />
      <button id="admin-login-btn" class="primary">เข้าสู่ส่วนแอดมิน</button>
      <p id="admin-login-msg" class="msg"></p>
      <p><button id="back-to-user" class="ghost small">กลับไปหน้าผู้ใช้</button></p>
    </section>

    <!-- ========== ADMIN: เมนูหลัก (3 หน้า) ========== -->
    <section id="admin-menu-screen" class="hidden">
      <h2>ส่วนของแอดมิน</h2>
      <div class="admin-buttons">
        <button id="admin-edit-form-btn" class="primary">1) แก้ไข/เพิ่มคำถามฟอร์ม</button>
        <button id="admin-view-users-btn" class="secondary">2) ตรวจสอบข้อมูลผู้ใช้งาน</button>
      </div>
      <button id="admin-logout-btn" class="ghost small">ออกจากระบบ</button>
    </section>

    <!-- ========== ADMIN: หน้าแก้ไขฟอร์ม ========== -->
    <section id="admin-form-editor-screen" class="hidden">
      <h2>แก้ไขฟอร์ม</h2>
      <div id="admin-form-list"></div>

      <h3>เพิ่มคำถามใหม่</h3>
      <input type="text" id="new-question-label" placeholder="ชื่อคำถาม เช่น ชื่อ-นามสกุล" />
      <select id="new-question-type">
        <option value="text">ช่องกรอกข้อความ</option>
        <option value="select">ตัวเลือก (dropdown)</option>
      </select>
      <input type="text" id="new-question-options" placeholder="ตัวเลือก (คั่นด้วย , ) ใช้เมื่อเป็น select" />
      <button id="add-question-btn" class="primary">เพิ่มคำถาม</button>
      <p id="admin-form-msg" class="msg"></p>

      <button id="back-to-admin-menu-1" class="ghost small">ย้อนกลับ</button>
    </section>

    <!-- ========== ADMIN: หน้าแสดงข้อมูลผู้ใช้งาน ========== -->
    <section id="admin-users-screen" class="hidden">
      <h2>ข้อมูลผู้ใช้งานที่ส่งแล้ว</h2>
      <div id="admin-users-list" class="admin-list"></div>
      <p id="admin-users-msg" class="msg"></p>
      <button id="back-to-admin-menu-2" class="ghost small">ย้อนกลับ</button>
    </section>
  </div>

  <script src="script.js"></script>
</body>
</html>
